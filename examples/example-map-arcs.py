from pyvistool import Vistool
import json

nodes = [
    ["id", "lat", "lng", "shapeId", "name"],
    ["A", 45.740545, 1.014536, "FRA", "Name for A"],
    ["B", 48.205512, 0.313026, "FRA", "Name for B"],
    ["C", 41.546971, -4.807530, "ESP", "Name for C"],
    ["D", 41.365630, 1.268746, "ESP", "Name for D"]
]

edges = [
            ["sourceId","targetId","weight"],
            ["B","A","1"],
            ["A","C","2"],
            ["A","D","3"]
        ]

# read the the shape file from an actual file
shapeFile = open("shapeFileExample.geojson", "r")
shapeFile = shapeFile.read().replace('\n', "")

# or create a string
#shapeFile = '{"type":"FeatureCollection", "features": [{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[9.485832000000187,42.61527300000013],[9.494719999999916,42.60360700000014],[9.457777000000078,42.64332600000007],[9.485832000000187,42.61527300000013]]],[[[9.44666500000011,42.67888599999996],[9.553333000000123,42.1155550000001],[9.18083200000018,41.364716000000115],[8.78916500000011,41.55805200000002],[8.575832000000077,42.38360600000006],[9.293887999999924,42.67555199999997],[9.353054000000128,43.003883000000016],[9.44666500000011,42.67888599999996]]],[[[-1.1944449999999733,45.8224950000001],[-1.4016669999999465,46.05055200000011],[-1.2330559999999764,45.96472200000001],[-1.1944449999999733,45.8224950000001]]],[[[-1.2608339999999885,46.15638700000004],[-1.5530560000000264,46.24499500000012],[-1.474444999999946,46.25582899999999],[-1.2608339999999885,46.15638700000004]]],[[[-2.270832999999868,46.69332900000013],[-2.363888999999915,46.698051000000035],[-2.384999999999877,46.72555500000003],[-2.270832999999868,46.69332900000013]]],[[[-2.196945000000028,47.017220000000165],[-2.144999999999982,46.905829999999966],[-2.284721999999931,47.02055400000013],[-2.196945000000028,47.017220000000165]]],[[[-3.0666669999998817,47.306664000000026],[-3.2158339999999725,47.302498000000114],[-3.2586109999998882,47.376106000000036],[-3.0666669999998817,47.306664000000026]]],[[[-5.05499999999995,48.45416300000001],[-5.134723000000037,48.45832800000001],[-5.064723000000015,48.48305500000011],[-5.05499999999995,48.45416300000001]]],[[[-3.5766669999999294,48.80388600000008],[-3.5755560000000344,48.812492000000006],[-3.563333999999969,48.80860900000006],[-3.5766669999999294,48.80388600000008]]],[[[2.5416670000001034,51.09111000000006],[4.165000000000049,50.283051000000015],[4.149238000000025,49.978371000000024],[4.832503000000088,50.16860999999999],[4.873055000000107,49.797218000000086],[5.80788000000004,49.54504400000003],[6.362170000000049,49.45938900000003],[8.22607800000003,48.964417000000125],[7.578888000000006,48.11972000000016],[7.588268000000028,47.58448000000003],[6.990555000000143,47.497215000000054],[5.966666000000032,46.209442000000095],[6.7913890000001516,46.43416599999999],[7.038054000000017,45.93193800000013],[6.798970000000168,45.78067000000003],[7.127777000000094,45.257774],[6.619759999999957,45.11013800000002],[7.031666000000115,44.831383000000116],[6.976388000000071,44.28416400000005],[7.662221999999986,44.17083000000012],[7.528055000000023,43.78860500000006],[7.439293000000106,43.75752300000015],[7.416111000000029,43.770554000000075],[7.387777,43.74860400000007],[7.391609000000074,43.72754700000006],[6.165277000000117,43.050551999999996],[5.031387999999993,43.556664000000055],[3.9647219999999948,43.54083300000006],[3.0813880000000893,43.06944300000002],[3.1776550000001578,42.43680600000003],[1.7236110000000622,42.50943800000003],[1.7817200000000355,42.569962000000075],[1.4458330000000785,42.601944000000046],[-0.5622220000000198,42.781387000000066],[-1.7808769999998617,43.35992400000008],[-1.0361109999998916,44.675278000000006],[-1.2502779999999234,44.66249800000004],[-1.0838889999998855,45.56443800000001],[-0.536666999999909,44.89555400000013],[-0.7766669999999749,45.46110499999999],[-1.2408339999999498,45.70166000000005],[-1.0677779999999188,45.908882000000105],[-1.1146349999999927,46.31658199999997],[-2.1308340000000214,46.838333000000105],[-1.9841669999998999,47.034439000000035],[-2.170833999999928,47.12666299999999],[-2.1341670000000192,47.27805300000007],[-1.728610999999887,47.210831000000056],[-2.003333999999967,47.31916000000011],[-2.2891669999999067,47.238884],[-2.540277999999944,47.29666099999996],[-2.3611110000000224,47.504165999999984],[-2.6980560000000366,47.63721500000007],[-3.106388999999865,47.47222100000006],[-4.366389000000055,47.80416100000012],[-4.72614200000001,48.04058099999999],[-4.186110999999926,48.29999500000012],[-4.777778999999981,48.50943800000009],[-3.220833999999968,48.8705520000001],[-2.685277999999869,48.50166299999999],[-1.368888999999939,48.643608000000015],[-1.9416670000000238,49.72388499999998],[-1.2641669999999863,49.68416600000005],[-1.1138890000000004,49.365273000000016],[0.42472200000005955,49.45166000000002],[0.07416700000007381,49.52666500000008],[1.4611109999999599,50.12416100000003],[1.6250000000001137,50.87777700000011],[2.5416670000001034,51.09111000000006]]]]},"properties":{"FIPS":"FR","ISO2":"FR","ISO3":"FRA","UN":250,"NAME":"France","AREA":55010,"POP2005":60990544,"REGION":150,"SUBREGION":155,"LON":2.55,"LAT":46.565}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[-17.91278076171875,27.771665573120117],[-17.98278045654297,27.63749885559082],[-18.17055892944336,27.73722267150879],[-17.91278076171875,27.771665573120117]]],[[[-15.554166793823242,27.755834579467773],[-15.70250129699707,28.156110763549805],[-15.365556716918945,28.010278701782227],[-15.554166793823242,27.755834579467773]]],[[[-17.175003051757812,28.016942977905273],[-17.31694793701172,28.172224044799805],[-17.101947784423828,28.134721755981445],[-17.175003051757812,28.016942977905273]]],[[[-16.341114044189453,28.37027931213379],[-16.671390533447266,27.984167098999023],[-16.91278076171875,28.34139060974121],[-16.15694808959961,28.572221755981445],[-16.341114044189453,28.37027931213379]]],[[[-14.32722282409668,28.046388626098633],[-13.869722366333008,28.75139045715332],[-13.923055648803711,28.24916648864746],[-14.32722282409668,28.046388626098633]]],[[[-17.831947326660156,28.453889846801758],[-17.90444564819336,28.849443435668945],[-17.716392517089844,28.746110916137695],[-17.831947326660156,28.453889846801758]]],[[[-13.609724044799805,28.926389694213867],[-13.852222442626953,28.906389236450195],[-13.442501068115234,29.23166847229004],[-13.609724044799805,28.926389694213867]]],[[[-2.9252777099609375,35.26666450500488],[-2.9469451904296875,35.32916450500488],[-2.914722442626953,35.27360725402832],[-2.9252777099609375,35.26666450500488]]],[[[-5.31944465637207,35.87693977355957],[-5.345832824707031,35.84166145324707],[-5.395557403564453,35.916337966918945],[-5.31944465637207,35.87693977355957]]],[[[-3.0361099243164062,35.91277503967285],[-3.0511112213134766,35.91583442687988],[-3.0272216796875,35.92444038391113],[-3.0361099243164062,35.91277503967285]]],[[[1.577779769897461,38.68777656555176],[1.390279769897461,38.643327713012695],[1.3830547332763672,38.72055244445801],[1.577779769897461,38.68777656555176]]],[[[1.531667709350586,38.95194435119629],[1.2119464874267578,38.898332595825195],[1.519723892211914,39.11833381652832],[1.531667709350586,38.95194435119629]]],[[[3.2477779388427734,39.73472023010254],[3.4797229766845703,39.71110725402832],[3.0636119842529297,39.26361274719238],[2.364168167114258,39.55583381652832],[2.9877796173095703,39.91111183166504],[3.2477779388427734,39.73472023010254]]],[[[4.273332595825195,39.96138954162598],[4.276388168334961,39.8063907623291],[3.796945571899414,40.017221450805664],[4.273332595825195,39.96138954162598]]],[[[-7.431854248046875,37.253190994262695],[-7.4469451904296875,37.69944190979004],[-6.939167022705078,38.178056716918945],[-7.321111679077148,38.44944190979004],[-6.954792022705078,39.026384353637695],[-7.532505035400391,39.66942024230957],[-7.017221450805664,39.674997329711914],[-6.931667327880859,41.01805305480957],[-6.187221527099609,41.579721450805664],[-6.594165802001953,41.9536075592041],[-8.204723358154297,41.87471961975098],[-8.201223373413086,42.15274238586426],[-8.74500846862793,41.95250129699707],[-8.898612976074219,42.10805702209473],[-8.579723358154297,42.35166358947754],[-8.86916732788086,42.25139045715332],[-8.719446182250977,42.69583320617676],[-9.041389465332031,42.528886795043945],[-9.20944595336914,43.15277290344238],[-7.855554580688477,43.75999641418457],[-7.044818878173828,43.49040412902832],[-1.7808761596679688,43.35992622375488],[-0.5622215270996094,42.781389236450195],[1.4458332061767578,42.601945877075195],[1.723611831665039,42.50943946838379],[3.1776561737060547,42.43680763244629],[3.1752796173095703,41.86749458312988],[0.9644451141357422,41.03277778625488],[0.04889106750488281,40.03610420227051],[-0.3380546569824219,39.435556411743164],[0.20722389221191406,38.73221015930176],[-0.5116672515869141,38.32499885559082],[-0.7155551910400391,37.606943130493164],[-1.6436100006103516,37.37277412414551],[-2.1291656494140625,36.73138618469238],[-4.398332595825195,36.72222328186035],[-5.334506988525391,36.16256141662598],[-5.355798721313477,36.16330909729004],[-6.037500381469727,36.18027687072754],[-6.355554580688477,36.8608341217041],[-7.431854248046875,37.253190994262695]],[[-6.924999237060547,37.17083168029785],[-6.973054885864258,37.210275650024414],[-6.954166412353516,37.18027687072754],[-6.924999237060547,37.17083168029785]]]]},"properties":{"FIPS":"SP","ISO2":"ES","ISO3":"ESP","UN":724,"NAME":"Spain","AREA":49904,"POP2005":43397491,"REGION":150,"SUBREGION":39,"LON":-3.649,"LAT":40.227}}]}'

config = {
    "datasets": {
        "nodes": {
            "data": nodes
        },
        "edges": {
            "data": edges
        },
        "shapeFile": {
            "data": shapeFile
        }
    },
    "settings": {
        "shapeFileIdAttribute": "ISO3",
        "shapeFileNameAttribute": "NAME",
        "showAllEdgesOnStart": "true",
        "pageTitle": "Map Arcs from Python",
        "shapeLabel": "Country"
    }
}

#vt = Vistool("map-arcs", config, "chrome")
vt = Vistool("map-arcs", config)
vt.show()